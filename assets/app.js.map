{"version":3,"file":"public/assets/app.js","sources":["app/js/lib.monitorhover.js","app/js/setup.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CCpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A","sourcesContent":["(function ($) {\n\n  $.monitorHover = function (options) {\n    var y = options.y || 10;\n    var mercy = options.mercy || 10;\n    var over = false;\n    $(document).on('mousemove', function (e) {\n      if (e.clientY < y && !over) {\n        over = true;\n        $(document).trigger('over:on');\n      } else if (e.clientY > (y + mercy) && over) {\n        over = false;\n        $(document).trigger('over:off');\n      }\n    });\n  };\n\n})(jQuery);\n\n\n","// ----------------------------------------------------------------------------\n// Auto-height thing\n\n$(function () {\n  Harvey.attach('(min-width: 480px)', {\n\n    on: function () {\n      $(window).on('resize.fill', function () {\n        $('.speakers .item').css({ height: $(window).innerHeight() });\n        $('.speaker.section').css({ height: $(window).innerHeight() * 1.5 });\n      });\n      $(window).trigger('resize.fill');\n    },\n\n    off: function () {\n      $('.speakers .item').css({ height: null });\n      $('.speaker.section').css({ height: null });\n      $(window).off('resize.fill');\n    }\n  });\n});\n\n$(function () {\n  var $speakers, $contents, $backdrops, len;\n\n  Harvey.attach('(min-width: 480px)', {\n    setup: function () {\n      $speakers = $(\".speaker\");\n      $contents = $(\".speaker .content\");\n      $backdrops = $(\".speakers > .bg .item\");\n      len = $speakers.length;\n    },\n    on: function () {\n      for (var i=0; i<len; ++i) {\n        $contents.eq(i).appendTo($backdrops.eq(i));\n      }\n    },\n    off: function () {\n      for (var i=0; i<len; ++i) {\n        $contents.eq(i).appendTo($speakers.eq(i));\n      }\n    }\n  });\n});\n// ----------------------------------------------------------------------------\n// Speaker animation\n\n$(function () {\n  var $speakers = $(\".speaker.section\");\n\n  $('.fillsize').fillsize('>img');\n\n  $('.section[id], .m-section').scrollagent({\n    xform: function (y, range, height) { return y + height * 0.8; }\n  }, function (cid, pid, el, previous) {\n    $(document).trigger('section', cid);\n    $('html')\n      .toggleClass(getClass($(previous)), false)\n      .toggleClass(getClass($(el)), true);\n  });\n\n  function getClass($el) {\n    var isSpeaker = $el.is('.speaker');\n    if (isSpeaker) {\n      return 'section-speakers section-speaker-'+$speakers.index($el);\n    } else\n      return 'section-'+$el.attr('id');\n  }\n});\n\n// ----------------------------------------------------------------------------\n// Toggleable\n\n$(function () {\n  $(document).toggleable('.toggle', { using: '.toggle-button' });\n  $(document).toggleable('.faq-list li', { using: 'strong' });\n});\n\n// ----------------------------------------------------------------------------\n// Auto-replace\n\n$(document).on('section', function (e, id) {\n  if (id === 'top') $.replaceHash(null);\n  else $.replaceHash(id);\n});\n\n// ----------------------------------------------------------------------------\n// Replace hash helper\n\nif (window.history && window.history.replaceState) {\n  $.replaceHash = function (hash) {\n    window.history.replaceState(null, null, hash ? \"#\"+hash : location.pathname);\n  };\n} else {\n  $.replaceHash = function(){};\n}\n\n// ----------------------------------------------------------------------------\n\n$.monitorHover({ y: 70 });\n$(document).on('over:on', function () {\n  $('.navigation').toggleClass('show-links', true);\n});\n$(document).on('over:off', function () {\n  $('.navigation').toggleClass('show-links', false);\n});\n"]}