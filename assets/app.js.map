{"version":3,"file":"public/assets/app.js","sources":["app/js/0-setup.js","app/js/fillsize.js","app/js/speakers-magic.js","app/js/speakers-scrolling.js","app/js/swipeshow.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CC5EA;AACA;AACA;AACA;AACA;AACA;A,CCLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A","sourcesContent":["if (navigator.userAgent.match(/iPad|iPod|iPhone|Android/))\n  $('html').addClass('mobile');\nelse\n  $('html').addClass('desktop');\n\n// ----------------------------------------------------------------------------\n// Video\n\n$(function () {\n  if ($('html').is('.mobile')) $('video').remove();\n});\n\n// ----------------------------------------------------------------------------\n// Auto-height thing\n\n$(function () {\n  Harvey.attach('(min-width: 481px)', {\n\n    on: function () {\n      $(window).on('resize.fill', function () {\n        $('.title-card').css({ height: Math.max(600, $(window).innerHeight()) });\n        // Each of the speakers on big mode\n        $('.speakers .item').css({ height: Math.max(600, $(window).innerHeight()) });\n        // Scrolling placeholders\n        $('.speaker.section').css({ height: Math.max(600, $(window).innerHeight() * 1.4) });\n      });\n      $(window).trigger('resize.fill');\n    },\n\n    off: function () {\n      $('.title-card, .speakers .item, .speaker.section').css({ height: '' });\n      $(window).off('resize.fill');\n    }\n  });\n});\n\n// ----------------------------------------------------------------------------\n// Toggleable\n\n$(function () {\n  $(document).toggleable('.toggle', { using: '.toggle-button' });\n  $(document).toggleable('.faq-list li', { using: 'strong' });\n});\n\n// ----------------------------------------------------------------------------\n// Auto-replace\n\n$(document).on('section', function (e, id) {\n  if (id === 'top') $.replaceHash(null);\n  else $.replaceHash(id);\n});\n\n// ----------------------------------------------------------------------------\n// Replace hash helper\n\nif (window.history && window.history.replaceState) {\n  $.replaceHash = function (hash) {\n    window.history.replaceState(null, null, hash ? \"#\"+hash : location.pathname);\n  };\n} else {\n  $.replaceHash = function(){};\n}\n\n// ----------------------------------------------------------------------------\n\nScrollMonitor({\n  if: function (y) {\n    return y < 90;\n  },\n  enter: function () {\n    $('.navigation').toggleClass('show-links', false);\n  },\n  exit: function () {\n    $('.navigation').toggleClass('show-links', true);\n  }\n});\n","$(function () {\n  $('.fillsize').fillsize('>img');\n  $('.backdrop').fillsize('>video');\n});\n\n","// ----------------------------------------------------------------------------\n// Restructuring the speakers ('.magic')\n\n$(function () {\n  var $speakers, $contents, $backdrops, len;\n\n  Harvey.attach('(min-width: 569px)', {\n    setup: function () {\n      $speakers = $(\".speaker\");\n      $contents = $(\".speaker .content:first-child\");\n      $backdrops = $(\".speakers > .bg .item\");\n      len = $speakers.length;\n    },\n    on: function () {\n      $('.speakers').addClass('magic');\n      for (var i=0; i<len; ++i) {\n        $contents.eq(i).appendTo($backdrops.eq(i));\n        $(\"<div class='whoisit'>\")\n          .html($contents.eq(i).find('.info.name').html())\n          .appendTo($contents.eq(i));\n      }\n    },\n    off: function () {\n      $('.speakers').removeClass('magic');\n      for (var i=0; i<len; ++i) {\n        $contents.eq(i).appendTo($speakers.eq(i));\n      }\n      $(\".whoisit\").remove();\n    }\n  });\n});\n","// ----------------------------------------------------------------------------\n// Speaker scrolling animation\n\n$(function () {\n  if ($('html').is('.mobile')) return;\n\n  var $speakers = $(\".speaker.section\");\n\n  // Separate scrollagent for menu activation\n  $('body > .section[id]').scrollagent(function (cid, pid, el, previous) {\n    if (cid) $('a[href=\"#'+cid+'\"]').addClass('active');\n    if (pid) $('a[href=\"#'+pid+'\"]').removeClass('active');\n  });\n\n  $('.section[id], .m-section').scrollagent({\n    xform: function (y, range, height) { return y + height * 0.2; }\n  }, function (cid, pid, el, previous) {\n    // Fix navigation bar\n    var isSpeaker = ($(el).closest('#speakers').length > 0);\n    $('.navigation-bar').toggleClass('show-speakers', isSpeaker);\n    $(\".speaker-link a.active\").removeClass('active');\n    if (isSpeaker) {\n      $('a[href=\"#'+cid+'\"]').addClass('active');\n    }\n\n    // Highlight the current class (for whatever reason)\n    $(el).addClass('active');\n    $(previous).removeClass('active');\n\n    // Update root classname (transitions stuff via CSS)\n    $('html')\n      .toggleClass(getClass($(previous)), false)\n      .toggleClass(getClass($(el)), true);\n\n    // Let others know\n    $(document).trigger('section', cid);\n  });\n\n  function getClass($el) {\n    var isSpeaker = $el.is('.speaker');\n    if (isSpeaker) {\n      return 'section-speakers section-speaker-'+$speakers.index($el);\n    } else\n      return 'section-'+$el.attr('id');\n  }\n});\n\n","$(function() {\n  if ($('html').is('.desktop')) {\n    $('.swipeshow').each(function () {\n      $(this).append('<div class=\"dots\">');\n    });\n    $('.swipeshow').swipeshow({\n      autostart: false\n    });\n  } else {\n    $(\".swipeshow .slide + .slide\").remove();\n  }\n});\n"]}